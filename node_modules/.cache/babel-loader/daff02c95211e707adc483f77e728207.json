{"ast":null,"code":"var _jsxFileName = \"/Users/test/Development/Mod-4-proj/SliceLine_Frontend/src/containers/NewOrder.js\";\nimport React, { Component } from 'react';\nimport MainForm from '../components/MainForm';\nimport Cart from '../components/Cart';\nexport default class NewOrder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id_count: 0,\n      pizzas: []\n    };\n\n    this.addToOrder = hash => {\n      const array = this.state.pizzas;\n      array.push(hash);\n      this.setState(state => {\n        console.log(state.id_count);\n        return {\n          id_count: state.id_count + 1,\n          pizzas: array\n        };\n      });\n    };\n\n    this.removePizza = id => {\n      const pizzas = this.state.pizzas.filter(pizza => pizza.id !== id);\n      console.log(pizzas);\n      this.setState({\n        pizzas: pizzas\n      });\n      console.log(this.state);\n    };\n\n    this.placeOrder = () => {\n      fetch('http://localhost:3000/api/v1/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        },\n        body: JSON.stringify(this.state)\n      }).then(res => res.json()).then(result => {\n        this.props.confirmOrder(result);\n        this.setState({\n          id_count: 0,\n          pizzas: []\n        });\n      }, error => {\n        console.log(error.message);\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(MainForm, {\n      addToOrder: this.addToOrder,\n      id: this.state.id_count,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Cart, {\n      pizzas: this.state.pizzas,\n      removePizza: this.removePizza,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.placeOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, \"Place Order\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/test/Development/Mod-4-proj/SliceLine_Frontend/src/containers/NewOrder.js"],"names":["React","Component","MainForm","Cart","NewOrder","state","id_count","pizzas","addToOrder","hash","array","push","setState","console","log","removePizza","id","filter","pizza","placeOrder","fetch","method","headers","Accept","body","JSON","stringify","then","res","json","result","props","confirmOrder","error","message","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,eAAe,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAE5CI,KAF4C,GAEpC;AACJC,MAAAA,QAAQ,EAAE,CADN;AAEJC,MAAAA,MAAM,EAAE;AAFJ,KAFoC;;AAAA,SAO5CC,UAP4C,GAO9BC,IAAD,IAAU;AACnB,YAAMC,KAAK,GAAG,KAAKL,KAAL,CAAWE,MAAzB;AACAG,MAAAA,KAAK,CAACC,IAAN,CAAWF,IAAX;AACA,WAAKG,QAAL,CAAeP,KAAD,IAAW;AACvBQ,QAAAA,OAAO,CAACC,GAAR,CAAYT,KAAK,CAACC,QAAlB;AACA,eAAO;AAACA,UAAAA,QAAQ,EAAED,KAAK,CAACC,QAAN,GAAiB,CAA5B;AAA+BC,UAAAA,MAAM,EAAEG;AAAvC,SAAP;AACD,OAHD;AAIH,KAd2C;;AAAA,SAgB5CK,WAhB4C,GAgB7BC,EAAD,IAAQ;AACpB,YAAMT,MAAM,GAAG,KAAKF,KAAL,CAAWE,MAAX,CAAkBU,MAAlB,CAAyBC,KAAK,IAAIA,KAAK,CAACF,EAAN,KAAaA,EAA/C,CAAf;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAYP,MAAZ;AACA,WAAKK,QAAL,CAAc;AAACL,QAAAA,MAAM,EAAEA;AAAT,OAAd;AACAM,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAjB;AACD,KArB2C;;AAAA,SAuB5Cc,UAvB4C,GAuB/B,MAAM;AACjBC,MAAAA,KAAK,CAAC,qCAAD,EAAwC;AAC3CC,QAAAA,MAAM,EAAE,MADmC;AAE3CC,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEPC,UAAAA,MAAM,EAAE;AAFD,SAFkC;AAM3CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKrB,KAApB;AANqC,OAAxC,CAAL,CAOGsB,IAPH,CAOSC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPhB,EAQEF,IARF,CASGG,MAAD,IAAY;AACV,aAAKC,KAAL,CAAWC,YAAX,CAAwBF,MAAxB;AACA,aAAKlB,QAAL,CAAc;AAACN,UAAAA,QAAQ,EAAE,CAAX;AAAcC,UAAAA,MAAM,EAAE;AAAtB,SAAd;AACD,OAZH,EAaG0B,KAAD,IAAW;AACTpB,QAAAA,OAAO,CAACC,GAAR,CAAYmB,KAAK,CAACC,OAAlB;AACD,OAfH;AAiBD,KAzC2C;AAAA;;AA2C9CC,EAAAA,MAAM,GAAG;AACP,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAU,MAAA,UAAU,EAAE,KAAK3B,UAA3B;AAAuC,MAAA,EAAE,EAAE,KAAKH,KAAL,CAAWC,QAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAE,KAAKD,KAAL,CAAWE,MAAzB;AAAiC,MAAA,WAAW,EAAE,KAAKQ,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAQ,MAAA,OAAO,EAAE,KAAKI,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAHF,CADJ;AAOD;;AAnD6C","sourcesContent":["import React, { Component } from 'react'\nimport MainForm from '../components/MainForm'\nimport Cart from '../components/Cart'\n\nexport default class NewOrder extends Component {\n\n    state = {\n        id_count: 0,\n        pizzas: []\n      }\n\n    addToOrder = (hash) => {\n        const array = this.state.pizzas\n        array.push(hash)\n        this.setState((state) => {\n          console.log(state.id_count)\n          return {id_count: state.id_count + 1, pizzas: array}\n        });\n    } \n\n    removePizza = (id) => {\n      const pizzas = this.state.pizzas.filter(pizza => pizza.id !== id)\n      console.log(pizzas)\n      this.setState({pizzas: pizzas})\n      console.log(this.state)\n    }\n\n    placeOrder = () => {\n      fetch('http://localhost:3000/api/v1/orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Accept: 'application/json'\n        },\n        body: JSON.stringify(this.state)\n      }).then( res => res.json()\n      ).then(\n        (result) => {\n          this.props.confirmOrder(result);\n          this.setState({id_count: 0, pizzas: []})\n        },\n        (error) => {\n          console.log(error.message)\n        }\n      )\n    }\n\n  render() {\n    return (\n        <div>\n          <MainForm addToOrder={this.addToOrder} id={this.state.id_count}/>\n          <Cart pizzas={this.state.pizzas} removePizza={this.removePizza}/>\n          <button onClick={this.placeOrder}>Place Order</button>\n          </div>\n    )\n  }\n}\n\n\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}